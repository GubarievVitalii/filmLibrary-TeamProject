function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=r);var a=r("lpPzL"),l=r("E9a0y"),o=r("93cIg"),c=(a=r("lpPzL"),r("gjiCh")),s=r("2Di0R"),d=r("eWCmQ"),f=r("4bgrY"),u=r("cky31");const g=(0,a.default)();const h=new(0,s.default)((function({results:t,total_results:n,total_pages:i,page:r}){if(g.imagesContainer.innerHTML="",0===t.length)return e(d).Notify.warning("âŒ Sorry, there are no movies matching your search query. Please try again.",{timeout:3e3}),void g.paginationList.classList.add("is-hidden");t.length>0&&1===r&&e(d).Notify.success(` We found ${n} movies.`,{timeout:3e3}),t.length&&g.imagesContainer.insertAdjacentHTML("afterbegin",t.map(u.createMarkupElementGallery).join("")),g.paginationList.classList.remove("is-hidden"),m.setTotalPages(i),(0,c.spinnerOn)()})),m=new(0,f.Pagination)(g.paginationList,{countPoint:5,onShow:e=>{h.currentPage=e,window.scrollTo({top:240,behavior:"smooth"}),h.currentFetch()}});r("lHYFr");var p=r("6mLAN");const v=(0,(a=r("lpPzL")).default)();let L=[],y=[];function E(){0!==L.length&&L.forEach((e=>{document.getElementById(e).classList.remove("filter__genre-item--highlight")})),L=[],y=[],v.filterClear.classList.add("filter--hidden"),v.filterSelectBtn.innerHTML="Select genre"}function T(){h.currentPage=1,h.currentFetch=h.fetchTrendWeekMovies,m.moveToPage(h.currentPage)}!async function(){try{(await h.getAllGenres()).forEach((e=>{const t=document.createElement("li");t.classList.add("filter__genre-item"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(()=>{0===L.length?(L.push(e.id),y.push(e.name)):L.includes(e.id)?L.forEach(((t,n)=>{t===e.id&&(L.splice(n,1),y.splice(n,1))})):(L.push(e.id),y.push(e.name)),v.searchInput.value="",h.genres=L,h.currentFetch=h.fetchMovieByGenres,m.moveToPage(1),document.querySelectorAll(".filter__genre-item").forEach((e=>{e.classList.remove("filter__genre-item--highlight")})),0!==L.length?(v.filterClear.classList.remove("filter--hidden"),L.forEach((e=>{document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(v.filterClear.classList.add("filter--hidden"),T()),function(){if(0===y.length)return void(v.filterSelectBtn.innerHTML="Select genre");if(1===y.length)return void(v.filterSelectBtn.innerHTML=y[0]);if(y.length>1)v.filterSelectBtn.innerHTML=y[0]+"..."}()})),v.filterGenreList.append(t)}))}catch(e){}}(),v.filterClear.addEventListener("click",(function(){E(),T()})),v.filterSelectBtn.addEventListener("click",(function(){v.filterWrap.classList.toggle("filter--active")})),document.onclick=function(e){v.filterWrap.contains(e.target)||v.filterWrap.classList.remove("filter--active")};const _=(0,(a=r("lpPzL")).default)();_.searchForm.addEventListener("submit",(function(e){e.preventDefault(),E(),_.searchInput.value&&(h.query=_.searchInput.value,h.currentFetch=h.fetchMovieQuery,m.moveToPage(1))})),r("bMZn5");const M=(0,a.default)();document.addEventListener("DOMContentLoaded",(()=>{h.currentFetch=h.fetchTrendWeekMovies,m.moveToPage(h.currentPage)})),M.imagesContainer.addEventListener("click",(async function(e){if(e.target.classList.contains("gallery__img")){e.preventDefault();const t=e.target.dataset.movieId;await(0,l.default)(h.fetchMovieByID(t))}})),(0,o.default)(),(0,p.default)();
//# sourceMappingURL=index.2c514dcb.js.map
