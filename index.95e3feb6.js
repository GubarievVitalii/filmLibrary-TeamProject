!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a=i("bpxeT"),c=i("2TvXO"),o=i("3vKGz"),l=i("gBkTQ"),s=i("2EooH"),u=(o=i("3vKGz"),i("kvC6y")),f=i("KcxNJ"),d=i("iU1Pc"),g=i("fLgVo"),h=i("5118m"),v=(0,o.default)();var p=new(0,f.default)((function(t){var n=t.results,r=t.total_results,i=t.total_pages,a=t.page;if(v.imagesContainer.innerHTML="",0===n.length)return e(d).Notify.warning("❌ Sorry, there are no movies matching your search query. Please try again.",{timeout:3e3}),void v.paginationList.classList.add("is-hidden");n.length>0&&1===a&&e(d).Notify.success(" We found ".concat(r," movies."),{timeout:3e3}),n.length&&v.imagesContainer.insertAdjacentHTML("afterbegin",n.map(h.createMarkupElementGallery).join("")),v.paginationList.classList.remove("is-hidden"),m.setTotalPages(i),(0,u.spinnerOn)()})),m=new(0,g.Pagination)(v.paginationList,{countPoint:5,onShow:function(e){p.currentPage=e,window.scrollTo({top:240,behavior:"smooth"}),p.currentFetch()}});i("5jy86");var L=i("d43SW"),y=(a=i("bpxeT"),c=i("2TvXO"),(0,(o=i("3vKGz")).default)()),T=[],E=[];function _(){return(_=e(a)(e(c).mark((function t(){return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getAllGenres();case 3:e.sent.forEach((function(e){var t=document.createElement("li");t.classList.add("filter__genre-item"),t.id=e.id,t.innerText=e.name,t.addEventListener("click",(function(){0===T.length?(T.push(e.id),E.push(e.name)):T.includes(e.id)?T.forEach((function(t,n){t===e.id&&(T.splice(n,1),E.splice(n,1))})):(T.push(e.id),E.push(e.name)),y.searchInput.value="",p.genres=T,p.currentFetch=p.fetchMovieByGenres,m.moveToPage(1),w(),M()})),y.filterGenreList.append(t)})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function w(){document.querySelectorAll(".filter__genre-item").forEach((function(e){e.classList.remove("filter__genre-item--highlight")})),0!==T.length?(y.filterClear.classList.remove("filter--hidden"),T.forEach((function(e){document.getElementById(e).classList.add("filter__genre-item--highlight")}))):(y.filterClear.classList.add("filter--hidden"),k())}function x(){0!==T.length&&T.forEach((function(e){document.getElementById(e).classList.remove("filter__genre-item--highlight")})),T=[],E=[],y.filterClear.classList.add("filter--hidden"),y.filterSelectBtn.innerHTML="Select genre"}function M(){0!==E.length?1!==E.length?E.length>1&&(y.filterSelectBtn.innerHTML=E[0]+"..."):y.filterSelectBtn.innerHTML=E[0]:y.filterSelectBtn.innerHTML="Select genre"}function k(){p.currentPage=1,p.currentFetch=p.fetchTrendWeekMovies,m.moveToPage(p.currentPage)}!function(){_.apply(this,arguments)}(),y.filterClear.addEventListener("click",(function(){x(),k()})),y.filterSelectBtn.addEventListener("click",(function(){y.filterWrap.classList.toggle("filter--active")})),document.onclick=function(e){y.filterWrap.contains(e.target)||y.filterWrap.classList.remove("filter--active")};var P=(0,(o=i("3vKGz")).default)();P.searchForm.addEventListener("submit",(function(e){e.preventDefault(),x(),P.searchInput.value&&(p.query=P.searchInput.value,p.currentFetch=p.fetchMovieQuery,m.moveToPage(1))})),i("euqRf");var b=(0,o.default)();function S(){return(S=e(a)(e(c).mark((function t(n){var r;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.classList.contains("gallery__img")){e.next=5;break}return n.preventDefault(),r=n.target.dataset.movieId,e.next=5,(0,l.default)(p.fetchMovieByID(r));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){p.currentFetch=p.fetchTrendWeekMovies,m.moveToPage(p.currentPage)})),b.imagesContainer.addEventListener("click",(function(e){return S.apply(this,arguments)})),(0,s.default)(),(0,L.default)()}();
//# sourceMappingURL=index.95e3feb6.js.map
