{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,4BCAAC,EAAAD,EAAA,S,sDAM+DE,GAAA,EAAAC,EAAAC,WAAvDC,EAAuDH,EAAvDI,YAAaC,EAA0CL,EAA1CM,WAAYC,EAA8BP,EAA9BQ,UAAWC,EAAmBT,EAAnBU,eAE7B,SAAAC,EAAuBC,G,IAQhCC,EARsCC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAiBA,UAAA,GAAF,GACzD,IACEV,EAAWY,UAAUC,IAAI,YACzBX,EAAUU,UAAUE,OAAO,W,CAC3B,MAAOC,GACP,M,CAIF,IAAIC,EAAgB,GACpB,IAGE,IAAIC,EAFJT,EAAcU,aAAaC,QAAQ,WACnCrB,EAAYsB,UAAY,GAGxB,IAAMC,EAAcC,KAAKC,MAAMf,GAE/Ba,EAAYG,OAAOjB,EAAK,GAAKE,EAAcF,EAAOE,GAAcgB,KAAI,SAAAC,GAClET,EAASS,EAAYC,kBACdD,EAAYT,OACnBS,EAAYE,UAAYX,EAExBD,IAAiB,EAAAtB,EAAAmC,4BAA2BH,E,IAE9CtB,EAAeQ,UAAUE,OAAO,aAChCgB,EAAAC,iBAAiBC,cAAcC,KAAKC,KAAKb,EAAYV,OAASF,KAC7DY,EAAYV,QAAUP,EAAeQ,UAAUC,IAAI,Y,CACpD,MAAOsB,GAIP,OAHAC,EAAAC,GAASC,OAAOC,QAAQ,6BACxBnC,EAAeQ,UAAUC,IAAI,kBAC7B,EAAA2B,EAAAC,Y,CAIF3C,EAAY4C,mBAAmB,YAAa1B,IAC5C,EAAAwB,EAAAC,Y,CC3CF/C,EAAAD,EAAA,S,oDAAA,IAM+DkD,GAAA,EAAA/C,EAAAC,WAAvD+C,EAAuDD,EAAvD5C,YAAa8C,EAA0CF,EAA1C1C,WAAY6C,EAA8BH,EAA9BxC,UAAW4C,EAAmBJ,EAAnBtC,eAE7B,SAAA2C,EAAqBzC,G,IAQ9B0C,EARoCxC,EAAAC,UAAAC,OAAA,YAAAD,UAAA,GAAiBA,UAAA,GAAF,GACvD,IACEoC,EAAUlC,UAAUC,IAAI,YACxBgC,EAAWjC,UAAUE,OAAO,W,CAC5B,MAAOC,GACP,M,CAIF,IAAImC,EAAc,GAClB,IAGE,IAAIjC,EAFJgC,EAAY/B,aAAaC,QAAQ,SACjCyB,EAAYxB,UAAY,GAGxB,IAAM+B,EAAY7B,KAAKC,MAAM0B,GAE7BE,EAAU3B,OAAOjB,EAAK,GAAGE,EAAcF,EAAOE,GAAcgB,KAAI,SAAA2B,GAC5DnC,EAASmC,EAAUzB,kBACZyB,EAAUnC,OACjBmC,EAAUxB,UAAYX,EAEtBiC,IAAe,EAAAxD,EAAAmC,4BAA2BuB,E,IAE9CL,EAAenC,UAAUE,OAAO,aAChCgB,EAAAC,iBAAiBC,cAAcC,KAAKC,KAAKiB,EAAUxC,OAASF,KAC3D0C,EAAUxC,QAAUoC,EAAenC,UAAUC,IAAI,Y,CAClD,MAAOsB,GAIP,OAHAC,EAAAC,GAASC,OAAOC,QAAQ,2BACxBQ,EAAenC,UAAUC,IAAI,kBAC7B,EAAA2B,EAAAC,Y,CAIFG,EAAYF,mBAAmB,YAAaQ,IAC5C,EAAAV,EAAAC,Y,wDFjCF,EAAAjD,EAAAK,WAEA,IAA+CwD,GAAA,EAAAzD,EAAAC,WAAvCyD,EAAuCD,EAAvCpD,WAAYsD,EAA2BF,EAA3BlD,UAAWqD,EAAgBH,EAAhBtD,YAE/B+B,EAAA2B,cAAcC,eAAepD,EAC7BwB,EAAAC,iBAAiB4B,WAAW,GAE5BL,EAAWM,iBAAiB,SAC5B,WACE9B,EAAA2B,cAAcC,eAAepD,EAC7BwB,EAAAC,iBAAiB4B,WAAW,E,IAG9BJ,EAAUK,iBAAiB,SAC3B,WACE9B,EAAA2B,cAAcC,eAAeV,EAC7BlB,EAAAC,iBAAiB4B,WAAW,E,IAG9BH,EAAYI,iBAAiB,SAC7B,SAA0B7C,GACxB,GAAIA,EAAE8C,OAAOjD,UAAUkD,SAAS,gBAAiB,CAC/C/C,EAAEgD,iBACF,IAAMC,EAAUjD,EAAE8C,OAAOI,QAAQD,SACjC,EAAAE,EAAArE,SAAiBiC,EAAAqC,UAAUC,eAAeJ,G,MAI9C,EAAAK,EAAAxE,U","sources":["src/my-library.js","src/js/render-watched-list.js","src/js/render_queue-list.js"],"sourcesContent":["import topUp from './js/top.js';\nimport './js/nightMode';\nimport getRefs from './js/get-refs.js';\nimport renderWatched from './js/render-watched-list.js';\nimport renderQueue from './js/render_queue-list.js';\nimport openMovieDetails from './js/movie-details-open.js';\nimport footerModal from './js/footer-modal-open';\nimport { moviesApi, customPagination , renderLibrary } from './js/library'\n\nimport './js/auth';\ntopUp();\n\nconst { watchedBtn, queuedBtn, galleryList } = getRefs();\n\nrenderLibrary.functionRender=renderWatched;\ncustomPagination.moveToPage(1);\n\nwatchedBtn.addEventListener('click', onWatchedClick);\nfunction onWatchedClick() {\n  renderLibrary.functionRender=renderWatched;\n  customPagination.moveToPage(1);\n}\n\nqueuedBtn.addEventListener('click', onQueueClick);\nfunction onQueueClick() {  \n  renderLibrary.functionRender=renderQueue;\n  customPagination.moveToPage(1);\n}\n\ngalleryList.addEventListener('click', onMovieCardClick);\nfunction onMovieCardClick(e) {\n  if (e.target.classList.contains('gallery__img')) {\n    e.preventDefault();\n    const movieId = e.target.dataset.movieId;\n    openMovieDetails(moviesApi.fetchMovieByID(movieId));\n  }\n}\n\nfooterModal();\n","import { createMarkupElementGallery } from './renderMarkup';\nimport { spinnerOn } from './loader';\nimport getRefs from './get-refs';\nimport Notiflix from 'notiflix';\nimport { customPagination } from './library'\n\nconst { galleryList, watchedBtn, queuedBtn, paginationList } = getRefs();\n\nexport default function renderWatched(page, countOnePage = 20) {\n  try {\n    watchedBtn.classList.add('selected');\n    queuedBtn.classList.remove('selected');\n  } catch (e) {\n    return;\n  }\n\n  let watchedList;\n  let watchedMarkup = '';\n  try {\n    watchedList = localStorage.getItem('Watched');\n    galleryList.innerHTML = '';\n    let genres;\n\n    const watchedData = JSON.parse(watchedList);\n    \n    watchedData.slice((page-1) * countOnePage, (page)*countOnePage).map(watchedItem => {\n      genres = watchedItem.genreNames;\n      delete watchedItem.genres;\n      watchedItem.genre_str = genres;\n\n      watchedMarkup += createMarkupElementGallery(watchedItem);\n    });\n    paginationList.classList.remove(\"is-hidden\");\n    customPagination.setTotalPages(Math.ceil(watchedData.length / countOnePage));\n    !watchedData.length && paginationList.classList.add(\"is-hidden\");\n  } catch (e) {\n    Notiflix.Notify.warning('There is no watched list!');\n    paginationList.classList.add(\"is-hidden\");\n    spinnerOn();\n    return;\n  }\n\n  galleryList.insertAdjacentHTML('beforeend', watchedMarkup);\n  spinnerOn();\n}","import { createMarkupElementGallery } from './renderMarkup';\nimport { spinnerOn } from './loader';\nimport getRefs from './get-refs';\nimport Notiflix from 'notiflix';\nimport { customPagination } from './library';\n\nconst { galleryList, watchedBtn, queuedBtn, paginationList } = getRefs();\n\nexport default function renderQueue(page, countOnePage = 20) {\n  try {\n    queuedBtn.classList.add('selected');\n    watchedBtn.classList.remove('selected');\n  } catch (e) {\n    return;\n  }\n\n  let queueList;\n  let queueMarkup = '';\n  try {\n    queueList = localStorage.getItem('Queue');\n    galleryList.innerHTML = '';\n    let genres;\n\n    const queueData = JSON.parse(queueList);\n\n    queueData.slice((page-1)*countOnePage, (page)*countOnePage).map(queueItem => {\n        genres = queueItem.genreNames;\n        delete queueItem.genres;\n        queueItem.genre_str = genres;\n\n        queueMarkup += createMarkupElementGallery(queueItem);\n      });\n    paginationList.classList.remove(\"is-hidden\");\n    customPagination.setTotalPages(Math.ceil(queueData.length / countOnePage));\n    !queueData.length && paginationList.classList.add(\"is-hidden\");\n  } catch (e) {\n    Notiflix.Notify.warning('There is no queue list!');\n    paginationList.classList.add(\"is-hidden\");\n    spinnerOn();\n    return;\n  }\n\n  galleryList.insertAdjacentHTML('beforeend', queueMarkup);\n  spinnerOn();\n}"],"names":["$d43SW","parcelRequire","$5118m","$5249cb6ef83a111a$var$ref","$3vKGz","default","$5249cb6ef83a111a$var$galleryList","galleryList","$5249cb6ef83a111a$var$watchedBtn","watchedBtn","$5249cb6ef83a111a$var$queuedBtn","queuedBtn","$5249cb6ef83a111a$var$paginationList","paginationList","$5249cb6ef83a111a$export$2e2bcd8739ae039","page","watchedList","countOnePage","arguments","length","classList","add","remove","e","watchedMarkup","genres","localStorage","getItem","innerHTML","watchedData","JSON","parse","slice","map","watchedItem","genreNames","genre_str","createMarkupElementGallery","$cHsZg","customPagination","setTotalPages","Math","ceil","e1","$parcel$interopDefault","$iU1Pc","Notify","warning","$kvC6y","spinnerOn","insertAdjacentHTML","$3cadbcbee49d2cf6$var$ref","$3cadbcbee49d2cf6$var$galleryList","$3cadbcbee49d2cf6$var$watchedBtn","$3cadbcbee49d2cf6$var$queuedBtn","$3cadbcbee49d2cf6$var$paginationList","$3cadbcbee49d2cf6$export$2e2bcd8739ae039","queueList","queueMarkup","queueData","queueItem","$865c390aa2d1ad34$var$ref","$865c390aa2d1ad34$var$watchedBtn","$865c390aa2d1ad34$var$queuedBtn","$865c390aa2d1ad34$var$galleryList","renderLibrary","functionRender","moveToPage","addEventListener","target","contains","preventDefault","movieId","dataset","$gBkTQ","moviesApi","fetchMovieByID","$2EooH"],"version":3,"file":"my-library.6faf378e.js.map"}